# Types of Authentication

There are various authentication mechanisms, each with its own strengths and weaknesses

1. [Basic Authentication](#basic-authentication)
2. [Digest Authentication](#digest-authentication)
3. [Session Based Authentication](#session-based-authentication)
4. [Token Based Authentication](#token-based-authentication)
5. [OAuth (Open Authorization)](#oauth)
6. [OpenID Connect](#openid-connect)
7. [Certificate-Based Authentication](#certificate-based-authentication)
8. [LDAP (Lightweight Directory Access Protocol)](#ldap)

## Basic Authentication

In Basic Authentication, client sends http request with <b>Authorization</b> header that contains base64 encoded string <i>usename:password</i> prefixed with Basic.

```
Authorization: Basic dXNlbmFtZTpwYXNzd29yZA==
```

##### PROS

- Easy to implement and widely supported.

##### CONS

- Credentials are sent in plaintext, making it vulnerable to eavesdropping.

## Digest Authentication

In Digest Authentication, the client sends the hashed user's credentials to the server. It applies MD5 cryptographic hashing and uses a nonce (a unique number used once) received from the server to prevent a replay attack. The server verifies the client's response by calculating the expected hash on its end. If the calculated hash matches the one received from the client, access is granted.

```
Authorization: Digest username="Alice", realm="Example Realm", nonce="dcd98b7102dd2f0e8b11d0f600bfb0c093", uri="/protected/resource", response="6629fae49393a05397450978507c4ef1", opaque="5ccc069c403ebaf9f0171e9517f40e41", qop=auth, nc=00000001, cnonce="0a4f113b"
```

- username="Alice": This is the username of the client (user).
- realm="Example Realm": The realm is a description of the protected area. It is used by the client and server to identify the authentication domain.
- nonce="dcd98b7102dd2f0e8b11d0f600bfb0c093": The nonce is a unique value generated by the server for each authentication request. It helps prevent replay attacks.
- uri="/protected/resource": The URI of the requested resource.
- response="6629fae49393a05397450978507c4ef1": This is the hashed response that the client generates based on the user's credentials, the nonce, and other parameters. It is not the plaintext password but a secure hash.
- opaque="5ccc069c403ebaf9f0171e9517f40e41": An opaque value that the client must return unchanged in subsequent requests. It doesn't contain the user's password.
- qop=auth, nc=00000001, cnonce="0a4f113b": Quality of Protection (qop), nonce count (nc), and client nonce (cnonce) are additional parameters involved in the authentication process but do not include the user's password

##### PROS

- More secure than Basic Authentication as passwords are not sent in plaintext.

##### CONS

- Vulnerable to certain attacks like man-in-the-middle.

## Session Based Authentication

In Session Based Authentication, server stores data of logged in users and sends session identifier back to client generally in form of cookie. When client sends an http request, server validates the session identifier and, if valid, associates the request with the corresponding user session. When user logs out, server will invalidate the session. Sessions also have an expiration time to enhance security. 

##### PROS

- Client don't need to send user's credential with each request
- Sessions allow the server to maintain state information about a user, making it easier to manage user-specific data.
- The server has control over the session and can invalidate it if needed (e.g., for logout or security reasons).

##### CONS

- The statefulness of sessions may introduce complexity in distributed or load-balanced environments.
- The server needs to maintain session data, which can be a consideration for large-scale applications.
- Reliance on cookies for session management can pose security risks if not handled properly

## Token Based Authentication

In Token Based Authentication, server generates a token after validation of user credential and sends back the token to client. Client usually stores token in local or session storage and for each subsequent request, client includes the token in the request headers. Server checks if token is valid and user have all permission to perform required operation.

Token represents user's identity and permissions. It often have a limited lifespan (expiration time). After expiration, the client needs to obtain a new token. Some systems use token refresh mechanisms, where a refresh token is issued along with the access token. The refresh token can be used to obtain a new access token without requiring the user to re-enter their credentials.

##### PROS

- It simplifies the server-side storage and scalability since the server does not need to keep track of the client's state.
- Tokens can be designed to carry only the necessary information, reducing the risk of exposing sensitive data.
- It can be easily integrated with third-party identity providers, enabling single sign-on (SSO) and leveraging existing authentication systems (OAuth and OpenID Connect).

##### CONS

- If a token is compromised, an attacker may gain unauthorized access.
- Handling token expiration and refresh can be complex. If not managed correctly, users may need to re-authenticate frequently, leading to a less seamless user experience.
- Revoking a token before its natural expiration can be challenging. Some systems implement token revocation lists, but these introduce additional complexity.
